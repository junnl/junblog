{{ define "main" }}
<div class="terms-container">
  <header class="terms-header">
    <h1 class="terms-title">{{ .Title }}</h1>
    {{ with .Description }}
    <p class="terms-description">{{ . }}</p>
    {{ end }}
    <p class="terms-count">共 {{ len .Pages }} 个{{ if eq .Section "tags" }}标签{{ else if eq .Section "categories" }}分类{{ else }}项目{{ end }}</p>
  </header>

  <div class="terms-cloud">
    {{ range .Pages.ByTitle }}
      {{ $count := len .Pages }}
      {{/* Calculate size level (1-5) based on count */}}
      {{ $level := 1 }}
      {{ if ge $count 5 }}
        {{ $level = 5 }}
      {{ else if ge $count 4 }}
        {{ $level = 4 }}
      {{ else if ge $count 3 }}
        {{ $level = 3 }}
      {{ else if ge $count 2 }}
        {{ $level = 2 }}
      {{ end }}

      <a href="{{ .Permalink }}" class="term-tag level-{{ $level }}" title="{{ $count }} 篇文章">
        <span class="tag-name">{{ .Title }}</span>
        <span class="tag-count">{{ $count }}</span>
      </a>
    {{ end }}
  </div>
</div>
{{ end }}

